@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Welcome Drogo</h1>
</div>
<div class="row px-5 pt-5">
    @{

        foreach (var item in Model.Bicycles)
        {

            if (item.Image != null)
            {
                var base64 = Convert.ToBase64String(item.Image);
                var imgSrc = String.Format("data:image/gif;base64,{0}", base64);


                <div class="col-md-4 mt-4 mt-sm-4 card-container">
                    <div class="card text-center product p-4 pt-5 border-1 h-100 rounded-sm">
                        <img class="img-fluid d-block mx-auto" src="@imgSrc" alt="Image">
                        <div class="card-body p-4 py-0 h-xs-400p">
                            <h5 class="card-title font-weight-semi-bold mb-3 w-xl-220p mx-auto">@item.Name</h5>
                            <p class="price">@item.HourlyRate.00 Rs per hr</p>
                        </div>
                        @{
                            var reservedText = "Reserve Now";
                            var btncls = "btn-dark";
                            string disabled = null;
                            if (item.IsInUse)
                            {
                                reservedText = "Reserved";
                                btncls = "btn-danger";
                                disabled = "disabled";
                            }
                        }
                        <p class="btn w-100 px-4 mx-auto">
                            <input type="submit" class="btn @btncls btn-lg w-100" name="add-button" disabled="@disabled" value="@reservedText">
                        </p>

                    </div>

                </div>

            }
        }
    }
</div>
